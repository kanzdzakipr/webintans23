<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Knowledge Base Terminal Teluk Lamong</title>

    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: #f5faff;
        overflow-x: hidden;
      }

      .navbar {
        width: 100%;
        padding: 1.2rem 3vw;
        display: flex;
        justify-content: space-between;
        align-items: center;
        position: fixed;
        top: 0;
        z-index: 10;
        background: rgba(255, 255, 255, 0.85);
        backdrop-filter: blur(10px);
        box-shadow: 0 3px 12px rgba(0, 0, 0, 0.05);
      }

      .navbar a:hover,
      .navbar a.active {
        border-style: solid;
        border-top: #222;
        border-right: #222;
        border-left: #222;
        color: #00abf0;
      }

      .nav-links {
        margin-right: 70px;
      }

      .nav-links a {
        margin-left: 25px;
        text-decoration: none;
        font-size: 1.1rem;
        font-weight: 600;
        color: #222;
        transition: 0.3s;
      }

      .nav-links a:hover {
        color: #0077cc;
      }

      .header-title {
        margin-top: 130px;
        text-align: center;
      }

      .header-title h1 {
        font-size: 2.2rem;
        font-weight: 700;
      }

      .header-title h2 {
        color: #5b5b5b;
        font-size: 1.3rem;
      }

      .content {
        max-width: 1400px; /* ukuran versi 80% */
        width: 90vw; /* fleksibel tapi tetap stabil */
        margin: 50px auto 50px;
        display: flex;
        justify-content: center;
        gap: 3vw;
      }

      .image-box {
        width: 40vw;
        max-width: 570px;
        aspect-ratio: 1.5; /* bikin proporsi stabil */
        border-radius: 15px;
        overflow: hidden;
        box-shadow: 0 7px 18px rgba(0, 0, 0, 0.12);
        background: #ffffff;
      }

      .image-box img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        display: block;
      }

      .text-box {
        width: 90vw;
        max-width: 600px;
      }

      .text-box h3 {
        font-size: 1.9rem;
        margin-bottom: 20px;
        font-weight: 600;
      }

      .text-box p {
        line-height: 1.8;
        font-size: 1.1rem;
        color: #333;
        margin-bottom: 16px;
      }

      @media (max-width: 900px) {
        .content {
          flex-direction: column;
          text-align: justify;
        }
        .image-box {
          margin: 0 auto;
          width: 90vw;
          max-width: 570px;
        }
      }
      /* ========================================= */
      /* CHAT WIDGET STYLES                        */
      /* ========================================= */
      .chat-widget-container {
        position: fixed;
        bottom: 30px;
        right: 30px;
        z-index: 1000;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
        font-family: 'Poppins', sans-serif;
      }

      /* Avatar Image Wrapper */
      .chat-avatar-wrapper {
        width: 100px; /* Sesuaikan ukuran gambar */
        height: 100px;
        cursor: pointer;
        transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        filter: drop-shadow(0 5px 15px rgba(0,0,0,0.2));
      }

      .chat-avatar-wrapper:hover {
        transform: scale(1.1);
      }
      
      .chat-avatar-wrapper img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      /* Chat Box Popup */
      .chat-box {
        width: 350px;
        height: 450px;
        background-color: #1e1e1e; /* Warna Gelap */
        border-radius: 15px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        display: flex;
        flex-direction: column;
        overflow: hidden;
        margin-bottom: 15px;
        
        /* Animasi Muncul */
        opacity: 0;
        transform: translateY(20px) scale(0.95);
        transform-origin: bottom right;
        transition: all 0.3s ease;
        pointer-events: none;
      }

      /* Saat chat aktif/open */
      .chat-box.active {
        opacity: 1;
        transform: translateY(0) scale(1);
        pointer-events: all;
      }

      /* Chat Header */
      .chat-header {
        background: #126e80; /* Warna Pelindo */
        padding: 15px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: white;
      }
      .chat-header h4 { margin: 0; font-size: 16px; font-weight: 600; }
      .close-chat { cursor: pointer; font-size: 20px; font-weight: bold; }

      /* Chat Body */
      .chat-body {
        flex: 1;
        padding: 15px;
        color: #ddd;
        font-size: 14px;
        overflow-y: auto;
      }
      .ai-msg {
        background: #333;
        padding: 10px;
        border-radius: 10px 10px 10px 0;
        margin-bottom: 10px;
        line-height: 1.4;
      }

      /* Chat Input */
      .chat-input-area {
        padding: 15px;
        background: #252525;
        display: flex;
        gap: 10px;
        border-top: 1px solid #333;
      }
      .chat-input-area input {
        flex: 1;
        background: #333;
        border: none;
        padding: 10px;
        border-radius: 5px;
        color: white;
        outline: none;
      }
      .chat-input-area button {
        background: #126e80;
        color: white;
        border: none;
        padding: 0 15px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 600;
      }

      /* Responsif untuk Mobile */
      @media (max-width: 600px) {
        .chat-widget-container { bottom: 20px; right: 20px; }
        .chat-avatar-wrapper { width: 80px; height: 80px; }
        .chat-box { width: 300px; height: 400px; }
      }
    </style>
  </head>
  <body>
    <div class="navbar">
      <div class="nav-links">
        <a href="index.html" class="active">Home</a>
        <a href="knowledge-base.html">Knowledge Base</a>
      </div>
    </div>

    <div class="header-title">
      <h1><i>Knowledge Base</i> Aktivitas dan Risiko Operasional</h1>
      <h2>PELINDO Terminal Petikemas Teluk Lamong</h2>
    </div>

    <div class="content">
      <div class="image-box">
        <img src="aset/terminal.jpg" alt="Gambar Terminal Teluk Lamong" />
      </div>

      <div class="text-box">
        <h3>Terminal Teluk Lamong</h3>
        <p>
          Terminal Teluk Lamong adalah terminal multiguna modern yang berada di
          antara Pelabuhan Gresik dan Pelabuhan Tanjung Perak. Sejak berdiri
          pada 2013, kami terus berkembang melalui lima fase hingga menuju visi
          menjadi terminal kelas dunia pada 2030.
        </p>
        <p>
          Dengan layanan cepat, aman, dan ramah lingkungan, Terminal Teluk
          Lamong kini menjadi penggerak utama distribusi barang ke dan dari
          Indonesia bagian timur. Kami berkomitmen menghadirkan pelayanan
          terbaik untuk memperkuat posisi Indonesia sebagai poros maritim dunia.
        </p>
      </div>
    </div>
    <div class="chat-widget-container">
      
      <div class="chat-box" id="chatBox">
        <div class="chat-header">
          <h4>Pelindo AI Assistant</h4>
          <span class="close-chat" onclick="toggleChat()">&times;</span>
        </div>
        <div class="chat-body">
          <div class="ai-msg">Halo! Saya AI Assistant Terminal Teluk Lamong. Ada yang bisa saya bantu terkait operasional hari ini?</div>
        </div>
        <div class="chat-input-area">
          <input type="text" placeholder="Tanya sesuatu..." />
          <button>Kirim</button>
        </div>
      </div>

      <div class="chat-avatar-wrapper" 
           id="avatarWrapper" 
           onclick="toggleChat()"
           onmouseenter="onHoverAvatar()" 
           onmouseleave="onLeaveAvatar()">
        <img src="char_idle.png" id="avatarImg" alt="AI Avatar">
      </div>

    </div>

    <script>
      let isChatOpen = false;
      const avatarImg = document.getElementById("avatarImg");
      const chatBox = document.getElementById("chatBox");

      // GANTI NAMA FILE DI SINI JIKA BERBEDA
      const imgIdle = "char_idle.png";     // Gambar Diam
      const imgHover = "char_hover.png";   // Gambar saat mouse di atas
      const imgActive = "char_active.png"; // Gambar saat chat terbuka

      function onHoverAvatar() {
        if (!isChatOpen) {
          avatarImg.src = imgHover;
        }
      }

      function onLeaveAvatar() {
        if (!isChatOpen) {
          avatarImg.src = imgIdle;
        }
      }

      function toggleChat() {
        isChatOpen = !isChatOpen;
        
        if (isChatOpen) {
          chatBox.classList.add("active");
          avatarImg.src = imgActive; // Ganti ke gaya 'Active/Chatting'
        } else {
          chatBox.classList.remove("active");
          avatarImg.src = imgIdle; // Kembali diam
        }
      }
    </script>
  </body>
</html>
